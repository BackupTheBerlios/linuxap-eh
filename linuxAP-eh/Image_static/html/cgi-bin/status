#
# status
#

#----------------------------------------------------------------------
# HEADER
#----------------------------------------------------------------------
header() {
    echo -e "\
<META HTTP-EQUIV=REFRESH CONTENT=\"30; URL=/cgi-bin/setup?cfg-status.\">
<html>
<body background=/linuxap.png>
<center>
<h2>Current <i>wlan0</i> Status</h2>
</center>
<hr>
"
    return 0
}

#----------------------------------------------------------------------
# OPTION
#----------------------------------------------------------------------
option() {
    echo -e "
  <tr>
    <td>
    <input type=\"image\" src=\"/buttons/plus.png\"
         name=\"cfg-status\" alt=\"STATUS\">
    </td>
    <td>Display wlan0 Status/Configuration</td>
  </tr>
"
}
 
#----------------------------------------------------------------------
# MENU
#----------------------------------------------------------------------
menu()
{
    echo -e "<pre>"
    iwconfig
    ifconfig
    uptime=`cat /proc/uptime | ( read line ; expr "$line" : "\\(.*\\)... " )`
    updays=`expr $uptime / 86400`
    hoursecs=`expr $uptime % 86400`
    uphours=`expr $hoursecs / 3600`
    minsecs=`expr $hoursecs % 3600`
    upmins=`expr $minsecs / 60`
    upsecs=`expr $minsecs % 60`
    echo -e "UP: $updays days $uphours:$upmins:$upsecs ($uptime)"
    echo -e ""
    cat /proc/meminfo
    echo -e "</pre>"
    echo "
<form method=\"POST\" action=\"/cgi-bin/setup\">
<input type=\"submit\" name=\"submit\" value=\"RETURN\">
</form>
"
}

$1
