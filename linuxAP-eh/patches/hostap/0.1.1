diff -urN hostap/driver/modules/hostap_config.h hostap.new/driver/modules/hostap_config.h
--- hostap/driver/modules/hostap_config.h     2003-10-19 17:54:29.000000000 +0200
+++ hostap.new/driver/modules/hostap_config.h 2003-10-23 22:02:02.000000000 +0200
@@ -1,6 +1,6 @@
 #ifndef HOSTAP_CONFIG_H
 #define HOSTAP_CONFIG_H
-
+#define RAW_TXPOWER_SETTING
 #define PRISM2_VERSION "0.1.1 - 2003-10-19"

 /* In the previous versions of Host AP driver, support for user space version
diff -Nur hostap-0.0.4/Makefile hostap-0.0.4.new/Makefile
--- hostap-0.0.4/Makefile	2003-07-26 04:39:33.000000000 +0200
+++ hostap-0.0.4.new/Makefile	2003-08-21 15:14:21.000000000 +0200
@@ -1,6 +1,6 @@
 # Edit this path to match with your system (it should point to the root
 # directory of the Linux kernel source)
-KERNEL_PATH=/usr/src/linux
+KERNEL_PATH=$(KERNEL_DIR)
 
 # Systems using external pcmcia-cs package (instead of kernel-tree pcmcia
 # modules):
@@ -12,9 +12,9 @@
 PCMCIA_PATH=
 
 # This path will be prepended to every installed file
-DESTDIR=
+DESTDIR=$(IMAGE_DIR)
 
-CC=gcc
-CFLAGS=-O2 -D__KERNEL__ -DMODULE -Wall -g -c $(EXTRA_CFLAGS)
+CC=$(CROSS_COMPILE)gcc
+CFLAGS=-Os -D__KERNEL__ -DMODULE -Wall -g -c $(EXTRA_CFLAGS)
 
 include $(KERNEL_PATH)/.config
@@ -236,15 +236,15 @@
 	mkdir -p $(MODPATH_CS)
 	cp -f $(MSRC)/$(MODULE_CS) $(MODPATH_CS)
 ifndef DESTDIR
-	/sbin/depmod -ae
+	#/sbin/depmod -ae
 endif
 
 install_conf:
-	@if [ ! -r $(DESTDIR)/etc/pcmcia/hostap_cs.conf ]; then \
+	#@if [ ! -r $(DESTDIR)/etc/pcmcia/hostap_cs.conf ]; then \
 		echo "Installing $(DESTDIR)/etc/pcmcia/hostap_cs.conf"; \
 		cp -f driver/etc/hostap_cs.conf $(DESTDIR)/etc/pcmcia/hostap_cs.conf; \
 	fi
-	@if [ -r $(DESTDIR)/etc/pcmcia/prism2.conf ]; then \
+	#@if [ -r $(DESTDIR)/etc/pcmcia/prism2.conf ]; then \
 		echo "You may need to remove old $(DESTDIR)/etc/pcmcia/prism2.conf"; \
 	fi
 
