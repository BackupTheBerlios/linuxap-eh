diff -Naur hostap-driver-0.1.2/Makefile hostap-driver-0.1.2-new/Makefile
--- hostap-driver-0.1.2/Makefile	2003-08-03 20:50:09.000000000 +0200
+++ hostap-driver-0.1.2-new/Makefile	2003-11-03 13:54:02.000000000 +0100
@@ -1,6 +1,6 @@
 # Edit this path to match with your system (it should point to the root
 # directory of the Linux kernel source)
-KERNEL_PATH=/usr/src/linux
+KERNEL_PATH=$(KERNEL_DIR)
 
 # Systems using external pcmcia-cs package (instead of kernel-tree pcmcia
 # modules):
@@ -12,10 +12,10 @@
 PCMCIA_PATH=
 
 # This path will be prepended to every installed file
-DESTDIR=
+DESTDIR=$(IMAGE_DIR)
 
-CC=gcc
-CFLAGS=-O2 -D__KERNEL__ -DMODULE -Wall -g -c $(EXTRA_CFLAGS)
+CC=$(CROSS_COMPILE)gcc
+CFLAGS=-Os -D__KERNEL__ -DMODULE -Wall -g -c $(EXTRA_CFLAGS)
 
 include $(KERNEL_PATH)/.config
 
@@ -242,15 +242,15 @@
 	mkdir -p $(MODPATH_CS)
 	cp -f $(MSRC)/$(MODULE_CS) $(MODPATH_CS)
 ifndef DESTDIR
-	/sbin/depmod -ae
+	#/sbin/depmod -ae
 endif
 
 install_conf:
-	@if [ ! -r $(DESTDIR)/etc/pcmcia/hostap_cs.conf ]; then \
+	#@if [ ! -r $(DESTDIR)/etc/pcmcia/hostap_cs.conf ]; then \
 		echo "Installing $(DESTDIR)/etc/pcmcia/hostap_cs.conf"; \
 		cp -f driver/etc/hostap_cs.conf $(DESTDIR)/etc/pcmcia/hostap_cs.conf; \
 	fi
-	@if [ -r $(DESTDIR)/etc/pcmcia/prism2.conf ]; then \
+	#@if [ -r $(DESTDIR)/etc/pcmcia/prism2.conf ]; then \
 		echo "You may need to remove old $(DESTDIR)/etc/pcmcia/prism2.conf"; \
 	fi
 
diff -Naur hostap-driver-0.1.2/driver/modules/hostap_config.h hostap-driver-0.1.2-new/driver/modules/hostap_config.h
--- hostap-driver-0.1.2/driver/modules/hostap_config.h	2003-11-03 04:40:26.000000000 +0100
+++ hostap-driver-0.1.2-new/driver/modules/hostap_config.h	2003-11-03 13:55:00.000000000 +0100
@@ -1,6 +1,6 @@
 #ifndef HOSTAP_CONFIG_H
 #define HOSTAP_CONFIG_H
-
+#define RAW_TXPOWER_SETTING
 #define PRISM2_VERSION "0.1.2 - 2003-11-02"
 
 /* In the previous versions of Host AP driver, support for user space version
